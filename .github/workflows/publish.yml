name: Build and publish python package

on:
  release:
    types: [ published ]

jobs:
  publish-service-client-package:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
        - name: Checkout Repository 
          uses: actions/checkout@v3
      
        - name: Publish Package
          uses: Aswinr24/poetry-publish@v2
          with:
            token: ${{ secrets.PYPI_TOKEN }}
            build: true
